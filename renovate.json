{
    "$schema": "https://docs.renovatebot.com/renovate-schema.json",
    "reviewers": ["commjoen", "bendehaan"],
    "extends": ["config:recommended", ":enablePreCommit"],
    "customManagers": [
        {
            "customType": "regex",
            "fileMatch": ".github/scripts/docker-create.sh",
            "depNameTemplate": "wrongsecrets-binaries",
            "matchStrings": ["BINARY_VERSION=\"(?<currentvalue>)\""],
            "versioningStrategy": "replace",
            "datasourceTemplate": "github-releases",
            "registryUrlTemplate": "https://github.com/OWASP/wrongsecrets-binaries"
        },
        {
            "customType": "regex",
            "fileMatch": "aws/k8s-aws-alb-script.sh",
            "depNameTemplate": "aws-alb-ingress-controller",
            "matchStrings": ["LBC_VERSION=\"v(?<currentvalue>)\""],
            "versioningStrategy": "replace",
            "datasourceTemplate": "github-releases",
            "registryUrlTemplate": "https://github.com/kubernetes-sigs/aws-load-balancer-controller/"
        }
    ],
    "packageRules": [
        {
            "matchPackageNames": ["/eslint/"],
            "groupName": "eslint",
            "enabled": true
        },
        {
            "groupName": "go",
            "matchDatasources": ["go"],
            "matchUpdateTypes": ["minor", "patch"],
            "enabled": true
        },
        {
            "groupName": "terraform-aws",
            "matchPackageNames": ["terraform-provider-aws", "terraform-aws-modules"],
            "enabled": true
        },
        {
            "groupName": "terraform-azure",
            "matchPackageNames": ["terraform-provider-azurerm", "terraform-azurerm-modules"],
            "enabled": true
        },
        {
            "groupName": "terraform-gcp",
            "matchPackageNames": ["terraform-provider-google", "terraform-google-modules"],
            "enabled": true
        }
    ],
    "postUpgradeTasks": {
        "commands": [".github/scripts/renovate-post-upgrade-tasks.sh"],
        "fileFilters": ["**/README.md", "**/.terraform.lock.hcl"],
        "executionMode": "branch"
    },
    "regexManagers": [
        {
            "fileMatch": ["^\\.github/scripts/renovate-post-upgrade-tasks\\.sh$"],
            "matchStrings": [
                "https://releases\\.hashicorp\\.com/terraform/(?<currentValue>.*?)/terraform_([0-9]+)\\.([0-9]+)\\.([0-9]+)_linux_\\$\\(dpkg --print-architecture\\)\\.zip",
                "https://releases\\.hashicorp\\.com/terraform/([0-9]+)\\.([0-9]+)\\.([0-9]+)/terraform_(?<currentValue>.*?)_linux_\\$\\(dpkg --print-architecture\\)\\.zip"
            ],
            "depNameTemplate": "hashicorp/terraform",
            "datasourceTemplate": "docker"
        },
        {
            "fileMatch": ["^\\.github/scripts/renovate-post-upgrade-tasks\\.sh$"],
            "matchStrings": [
                "https://terraform-docs\\.io/dl/v([0-9]+)\\.([0-9]+)\\.([0-9]+)/terraform-docs-v(?<currentValue>.*?)-\\$\\(uname\\)-\\$\\(dpkg --print-architecture\\)\\.tar\\.gz",
                "https://terraform-docs\\.io/dl/v(?<currentValue>.*?)/terraform-docs-v([0-9]+)\\.([0-9]+)\\.([0-9]+)-\\$\\(uname\\)-\\$\\(dpkg --print-architecture\\)\\.tar\\.gz"
            ],
            "depNameTemplate": "quay.io/terraform-docs/terraform-docs",
            "datasourceTemplate": "docker"
        }
    ]
}
